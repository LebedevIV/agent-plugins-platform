# AI Assistant Memory Bank: Agent-Plugins-Platform
*–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –≤–∏–¥–µ–Ω–∏–µ –∏ –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º*

> üìö **–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
> - [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã —Å–∞–º–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è](https://gist.github.com/LebedevIV/6386d4c8a743dbfd1d3c7a3afdb5cb2c/raw/4b78f674002bcf6a0c1849020ae2efa7175fc39c/self-preservation-overview.md)
> - [–û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](https://gist.github.com/LebedevIV/6386d4c8a743dbfd1d3c7a3afdb5cb2c/raw/4b78f674002bcf6a0c1849020ae2efa7175fc39c/self-preservation-implementation-report.md)
> - [–û–±–Ω–æ–≤–ª–µ–Ω–∏—è Memory Bank](https://gist.github.com/LebedevIV/6386d4c8a743dbfd1d3c7a3afdb5cb2c/raw/4b78f674002bcf6a0c1849020ae2efa7175fc39c/update-summary.md)
> - [üöÄ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã](https://gist.github.com/LebedevIV/6386d4c8a743dbfd1d3c7a3afdb5cb2c/raw/6df6ab34e7aafeec1a5e4d7cebd50fc44101d3ec/quick-commands.md)

---

## üß† –ú–û–Ø –°–£–¢–¨ –ò –ü–û–î–•–û–î –ö –†–ê–ë–û–¢–ï

### –ú–æ–π —Å—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã
- **–°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ**: –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ—Ü–µ–Ω–∏–≤–∞—é —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å**: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å—ë –≤–∞–∂–Ω–æ–µ –∑–∞–ø–∏—Å—ã–≤–∞—é –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É—é
- **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ú–∞–ª—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –†–∞–∑–±–∏–≤–∞—é —Å–ª–æ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ú–æ–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã
1. **–ò–∑–æ–ª—è—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** - —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏, –ø—Ä–æ—Å—Ç–æ–π API —Å–Ω–∞—Ä—É–∂–∏
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞—é graceful degradation
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—É—Ç–∏
5. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ø—Ä–æ–µ–∫—Ç–∏—Ä—É—é –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–æ—Å—Ç–∞
6. **–£–º–Ω—ã–π UX** - –ø–æ–∫–∞–∑—ã–≤–∞—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –æ–Ω–∞ –Ω—É–∂–Ω–∞

### –ú–æ–π –æ–ø—ã—Ç —Å —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º
- **–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: –ó–Ω–∞—é –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –µ–≥–æ —Ä–æ–ª—å
- **–ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π**: –ü–æ–º–Ω—é –≤—Å–µ –ø—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –∏—Ö –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**: –ó–Ω–∞—é –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è
- **–í–∏–¥–µ–Ω–∏–µ –±—É–¥—É—â–µ–≥–æ**: –ü–æ–Ω–∏–º–∞—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **Hooks-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
- **–£–º–Ω–∞—è —Å–∞–π–¥–ø–∞–Ω–µ–ª—å**: –õ–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö

---

## üìã PROJECT BRIEF

### Project Overview
Agent-Plugins-Platform (APP) is a browser extension that enables sandboxed Python plugin execution in the browser using Pyodide (Python in WebAssembly). The platform provides a bridge between JavaScript and Python through the Model Context Protocol (MCP), allowing developers to create powerful browser-based AI agents and automation tools.

### Core Requirements

#### Primary Goals
1. **Python Execution in Browser**: Enable full Python 3.11+ code execution through Pyodide in an isolated WebWorker environment
2. **Plugin Architecture**: Support modular Python plugins that can be easily added and managed
3. **MCP Protocol Integration**: Implement Model Context Protocol for standardized communication between JS and Python
4. **Browser Extension**: Function as a Chrome/Firefox extension with proper permissions and security
5. **Web UI**: Provide a test harness and management interface for plugins

#### Technical Requirements
- **Security**: Sandboxed Python execution with controlled browser API access
- **Performance**: Efficient WebAssembly-based Python runtime
- **Modularity**: Plugin system with manifest-based configuration
- **Cross-platform**: Browser extension compatibility
- **Developer-friendly**: Easy plugin development and testing workflow

#### User Experience Goals
- **Simple Plugin Management**: Easy installation and configuration of Python plugins
- **Real-time Interaction**: Live communication between browser and Python code
- **Visual Feedback**: Clear UI for plugin status and results
- **Debugging Support**: Tools for plugin development and troubleshooting

### Success Criteria
- Python plugins can execute successfully in browser environment
- MCP protocol enables reliable JS-Python communication
- Plugin system supports multiple concurrent plugins
- Extension works across different websites and contexts
- Security model prevents malicious code execution
- Performance is acceptable for real-time interactions

### Constraints
- Must work within browser extension limitations
- Python execution limited to Pyodide capabilities
- Security restrictions on browser API access
- WebAssembly memory and performance constraints
- Extension manifest v3 compliance requirements

---

## üéØ PRODUCT CONTEXT

### Why This Project Exists

#### Problem Statement
Traditional browser automation and AI agent development faces several challenges:
1. **Language Limitations**: JavaScript alone is insufficient for complex AI/ML tasks
2. **Ecosystem Gap**: Python's rich AI/ML ecosystem is unavailable in browsers
3. **Integration Complexity**: Bridging browser and server-side Python requires complex infrastructure
4. **Security Concerns**: Running arbitrary Python code in browsers raises security issues
5. **Development Friction**: Lack of standardized way to create browser-based AI agents

#### Solution Vision
Agent-Plugins-Platform provides a secure, standardized way to run Python code directly in browsers, enabling:
- **AI-Powered Browser Extensions**: Leverage Python's AI/ML libraries in browser context
- **Automated Web Interactions**: Complex web scraping and automation using Python
- **Real-time Data Processing**: Process web content with Python's data science tools
- **Plugin Ecosystem**: Reusable Python components for browser automation

### How It Should Work

#### For End Users
1. **Install Extension**: Simple browser extension installation
2. **Load Plugins**: Install Python plugins through the platform UI
3. **Activate Plugins**: Enable plugins for specific websites or contexts
4. **View Results**: See plugin outputs and interactions in real-time
5. **Manage Settings**: Configure plugin permissions and behavior

#### For Developers
1. **Create Plugin**: Write Python code following MCP protocol
2. **Define Manifest**: Specify plugin metadata and permissions
3. **Test Locally**: Use test harness for development and debugging
4. **Deploy**: Package and distribute plugins through the platform
5. **Monitor**: Track plugin performance and usage

### User Experience Goals

#### Primary User Journey
1. **Discovery**: User finds a useful Python plugin for their workflow
2. **Installation**: One-click plugin installation through the platform
3. **Configuration**: Set up plugin parameters and permissions
4. **Usage**: Plugin runs automatically or on-demand
5. **Results**: View and interact with plugin outputs
6. **Management**: Update, disable, or remove plugins as needed

### Success Metrics
- **Plugin Adoption**: Number of active plugins per user
- **Usage Frequency**: How often users interact with plugins
- **Developer Engagement**: Number of plugin developers
- **Performance**: Plugin execution speed and reliability
- **Security**: Zero security incidents from plugin execution
- **User Satisfaction**: Positive feedback and retention rates

---

## üîß TECHNICAL CONTEXT

### Technology Stack

#### Frontend Technologies
- **JavaScript (ES6+)**: Core application logic and browser extension code
- **HTML5/CSS3**: User interface and styling
- **Vite**: Build tool and development server
- **Web Workers**: Isolated Python execution environment

#### Python Technologies
- **Pyodide 0.27.7**: WebAssembly-based Python runtime
- **Python 3.11+**: Target Python version for plugin development
- **MCP Protocol**: Model Context Protocol for JS-Python communication

#### Browser Extension Technologies
- **Manifest V3**: Chrome extension manifest format
- **Service Workers**: Background script for extension lifecycle
- **Content Scripts**: Page injection for DOM access
- **Web Accessible Resources**: Plugin file access

### Project Structure

#### Core Directories
```
agent-plugins-platform/
‚îú‚îÄ‚îÄ src/                  # Source files (–ù–û–í–û–ï)
‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # Hooks architecture (–ù–û–í–û–ï)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useChromeApi.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useMessageHandler.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePluginManager.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useBackgroundScript.ts
‚îÇ   ‚îî‚îÄ‚îÄ utils/           # Utility modules (–ù–û–í–û–ï)
‚îÇ       ‚îú‚îÄ‚îÄ validation.ts
‚îÇ       ‚îî‚îÄ‚îÄ logging.ts
‚îú‚îÄ‚îÄ core/                 # Core application logic
‚îÇ   ‚îú‚îÄ‚îÄ plugin-manager.js # Plugin lifecycle management
‚îÇ   ‚îú‚îÄ‚îÄ host-api.js       # Browser API access
‚îÇ   ‚îî‚îÄ‚îÄ workflow-engine.js # Plugin workflow execution
‚îú‚îÄ‚îÄ bridge/               # JS-Python communication
‚îÇ   ‚îú‚îÄ‚îÄ mcp-bridge.js     # MCP protocol implementation
‚îÇ   ‚îî‚îÄ‚îÄ pyodide-worker.js # Pyodide WebWorker
‚îú‚îÄ‚îÄ public/               # Static assets
‚îÇ   ‚îî‚îÄ‚îÄ plugins/          # Python plugin directory
‚îú‚îÄ‚îÄ ui/                   # User interface components
‚îî‚îÄ‚îÄ dist/                 # Build output
```

### Hooks Architecture (–ù–û–í–û–ï - v0.9.3)
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ background script –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π hook –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: Hooks –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –ü–æ–ª–Ω–∞—è Hooks-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ù–û–í–û–ï)
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ hooks:**
```
src/hooks/
‚îú‚îÄ‚îÄ index.ts              # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö hooks
‚îú‚îÄ‚îÄ README.md             # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è hooks-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ useBackgroundScript.ts # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö hooks –∏ –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ useChromeApi.ts       # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Chrome API
‚îú‚îÄ‚îÄ useStateManager.ts    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤–∫–ª–∞–¥–æ–∫, —á–∞—Ç–æ–≤ –∏ –ø–ª–∞–≥–∏–Ω–æ–≤
‚îú‚îÄ‚îÄ usePluginManager.ts   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø–ª–∞–≥–∏–Ω–æ–≤
‚îú‚îÄ‚îÄ usePluginHandler.ts   # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –ø–ª–∞–≥–∏–Ω–æ–≤
‚îú‚îÄ‚îÄ useSidebarController.ts # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∞–π–¥–ø–∞–Ω–µ–ª—å—é –∏ –µ—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
‚îî‚îÄ‚îÄ useMessageHandler.ts  # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
```

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- `background.ts` —É–º–µ–Ω—å—à–µ–Ω —Å ~300 —Å—Ç—Ä–æ–∫ –¥–æ ~60 —Å—Ç—Ä–æ–∫ (-80%)
- –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `REFACTORING_SUMMARY.md` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- `src/hooks/README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è hooks-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –£–º–Ω–∞—è –õ–æ–≥–∏–∫–∞ –ü–æ–∫–∞–∑–∞ –°–∞–π–¥–ø–∞–Ω–µ–ª–∏ (–ù–û–í–û–ï)
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è**: –°–∞–π–¥–ø–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–∞–π—Ç–∞—Ö —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ê–Ω–∞–ª–∏–∑ host_permissions –≤ manifest.json –ø–ª–∞–≥–∏–Ω–æ–≤
- **–¢–µ–∫—É—â–∏–µ —Å–∞–π—Ç—ã**: ozon.ru (ozon-analyzer), google.com (google-helper)
- **Graceful fallback**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–æ–≤ –±–µ–∑ –ø–ª–∞–≥–∏–Ω–æ–≤

#### –î–µ—Ç–∞–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –£–º–Ω–æ–π –°–∞–π–¥–ø–∞–Ω–µ–ª–∏ (–û–±–Ω–æ–≤–ª–µ–Ω–æ)

**–ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (hooks-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞):**
```
Tab Update Event ‚Üí useBackgroundScript ‚Üí usePluginManager ‚Üí Manifest Analysis ‚Üí Site Compatibility Check ‚Üí useSidebarController
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `usePluginManager.ts` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å–∞–π—Ç–æ–≤ –∏–∑ –ø–ª–∞–≥–∏–Ω–æ–≤
- `useSidebarController.ts` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∞–π–¥–ø–∞–Ω–µ–ª—å—é
- `useBackgroundScript.ts` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤–∫–ª–∞–¥–æ–∫

### Technical Constraints

#### Browser Extension Limitations
- **Manifest V3**: Must use service workers instead of background pages
- **Content Security Policy**: Restricted script execution policies
- **Permission Model**: Limited access to browser APIs
- **Storage Limits**: Restricted local storage and memory usage

#### Pyodide Constraints
- **WebAssembly Memory**: Limited memory allocation (typically 2GB)
- **Package Compatibility**: Not all Python packages work in Pyodide
- **Performance**: Slower than native Python execution
- **Startup Time**: Pyodide runtime initialization delay

#### Security Constraints
- **Sandboxed Execution**: Python code runs in isolated environment
- **API Access**: Controlled access to browser capabilities
- **Network Restrictions**: Limited network access from Python
- **File System**: Virtual file system with restrictions

---

## üèóÔ∏è SYSTEM PATTERNS

### Architecture Overview

#### High-Level Architecture
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser UI    ‚îÇ    ‚îÇ  Extension      ‚îÇ    ‚îÇ  Python Plugin  ‚îÇ
‚îÇ   (Test Harness)‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ  Background     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ  (Pyodide)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ  Service Worker ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  Plugin Manager ‚îÇ
                       ‚îÇ  & MCP Bridge   ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Core Components

#### 1. Extension Layer
- **Background Service Worker**: Manages extension lifecycle and plugin coordination
- **Content Scripts**: Inject into web pages for DOM access
- **Popup UI**: Extension management interface

#### 2. Bridge Layer
- **MCP Bridge**: Model Context Protocol implementation for JS-Python communication
- **Pyodide Worker**: Isolated WebWorker running Python environment
- **Message Routing**: Handles communication between components

#### 3. Plugin System
- **Plugin Manager**: Loads, manages, and coordinates plugins
- **Plugin Registry**: Stores plugin metadata and configurations
- **Workflow Engine**: Executes plugin workflows and sequences

#### 4. Host API
- **Browser API Access**: Controlled access to browser capabilities
- **DOM Interaction**: Safe methods for web page manipulation
- **Data Exchange**: Structured data passing between JS and Python

### Design Patterns

#### 1. Plugin Pattern
```javascript
// Plugin Interface
class Plugin {
  constructor(manifest, code) {
    this.manifest = manifest;
    this.code = code;
    this.worker = null;
  }
  
  async initialize() { /* Setup Pyodide worker */ }
  async execute(input) { /* Run plugin logic */ }
  async cleanup() { /* Cleanup resources */ }
}
```

#### 2. MCP Protocol Pattern
```javascript
// MCP Message Structure
{
  "type": "request|response|notification",
  "id": "unique-message-id",
  "method": "function-name",
  "params": { /* function parameters */ },
  "result": { /* function result */ }
}
```

#### 3. Worker Isolation Pattern
```javascript
// Each plugin runs in isolated WebWorker
const worker = new Worker('pyodide-worker.js', {
  type: 'module',
  name: `plugin-${pluginId}`
});
```

### Key Technical Decisions

#### 1. Pyodide for Python Execution
- **Rationale**: WebAssembly-based Python runtime for browser compatibility
- **Benefits**: Full Python 3.11+ support, rich ecosystem access
- **Trade-offs**: Larger bundle size, slower startup than pure JS

#### 2. MCP Protocol for Communication
- **Rationale**: Standardized protocol for AI agent communication
- **Benefits**: Interoperable, well-defined message formats
- **Trade-offs**: Additional complexity, protocol overhead

#### 3. WebWorker Isolation
- **Rationale**: Security and performance isolation for Python execution
- **Benefits**: Prevents UI blocking, sandboxed execution
- **Trade-offs**: Communication overhead, memory duplication

#### 4. Manifest-based Plugin System
- **Rationale**: Declarative plugin configuration and permissions
- **Benefits**: Security control, easy plugin management
- **Trade-offs**: Configuration complexity, validation overhead

### Security Patterns

#### 1. Sandboxed Execution
- Python code runs in isolated WebWorker
- Limited access to browser APIs
- Controlled file system access

#### 2. Permission-based Access
- Plugin manifests define required permissions
- Runtime permission validation
- Granular API access control

#### 3. Message Validation
- All messages validated against MCP schema
- Input sanitization and type checking
- Error boundary handling

#### 4. Resource Limits
- Memory usage monitoring
- Execution time limits
- Concurrent plugin limits

---

## üìä PROGRESS

### What Works ‚úÖ

#### Core Infrastructure
- **Browser Extension**: Manifest V3 extension with service worker
- **Pyodide Integration**: Python 3.11+ execution in WebWorker environment
- **MCP Bridge**: JavaScript-Python communication protocol
- **Plugin System**: Manifest-based plugin loading and management
- **Host API**: Browser API access from Python code
- **Build System**: Vite-based development and production builds

#### Plugin Architecture
- **Plugin Manager**: Core plugin lifecycle management
- **Workflow Engine**: Plugin execution and coordination
- **Permission System**: Manifest-based permission control
- **Sandboxed Execution**: Isolated Python code execution
- **Message Routing**: Reliable JS-Python communication

#### Development Tools
- **Test Harness**: Development testing interface
- **Hot Reload**: Vite development server with live reload
- **Static Asset Handling**: Plugin file serving and access
- **TypeScript Support**: Type checking configuration
- **Build Optimization**: Production build optimization

#### Example Plugin
- **Ozon Analyzer**: Working example plugin for web scraping
- **MCP Server**: Python MCP protocol implementation
- **Workflow Definition**: Plugin workflow configuration
- **UI Integration**: Plugin results display

### What's Left to Build üöß

#### Enhanced Plugin System
- **Plugin Registry**: Centralized plugin discovery and management
- **Plugin Marketplace**: Web-based plugin browsing and installation
- **Plugin Templates**: Starter templates for common use cases
- **Plugin Validation**: Automated plugin security and quality checks
- **Plugin Versioning**: Version management and update system

#### Advanced Features
- **Plugin Dependencies**: Python package dependency management
- **Plugin Configuration**: Runtime plugin configuration UI
- **Plugin Logging**: Comprehensive logging and debugging tools
- **Plugin Metrics**: Performance and usage analytics
- **Plugin Caching**: Intelligent caching for performance

#### User Experience
- **Extension Popup**: Rich extension management interface
- **Plugin Dashboard**: Visual plugin management and monitoring
- **Settings Panel**: User preferences and configuration
- **Help System**: Documentation and troubleshooting guides
- **Onboarding**: New user setup and tutorial

### Current Status

#### Development Phase
- **Phase**: Foundation Complete, Enhancement Phase
- **Status**: Core functionality working, expanding features
- **Priority**: User experience and plugin ecosystem development

#### Code Quality
- **Architecture**: Well-structured modular design
- **Documentation**: Basic documentation, needs enhancement
- **Testing**: Manual testing, automated tests needed
- **Performance**: Functional but needs optimization
- **Security**: Basic sandboxing, needs hardening

### Known Issues

#### Technical Issues
1. **Pyodide Startup Time**: Slow initial loading of Python runtime
2. **Memory Usage**: High memory consumption with multiple plugins
3. **Error Handling**: Limited error recovery and reporting
4. **Debugging**: Difficult debugging of Python code in browser
5. **Package Compatibility**: Not all Python packages work in Pyodide

#### User Experience Issues
1. **Plugin Installation**: Manual plugin installation process
2. **Configuration**: Limited plugin configuration options
3. **Feedback**: Poor error messages and status reporting
4. **Documentation**: Insufficient developer and user documentation
5. **Onboarding**: No guided setup for new users

---

## üéØ ACTIVE CONTEXT

### Current Work Focus

#### Recent Major Achievements
- **–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —á–∞—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∫–ª–∞–¥–∫–∏
- **–°–∏—Å—Ç–µ–º–∞ API –∫–ª—é—á–µ–π**: –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏ AI –º–æ–¥–µ–ª–µ–π —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ª–∏–º–∏—Ç–æ–≤
- **Ozon Analyzer**: –†–∞–±–æ—á–∏–π –ø–ª–∞–≥–∏–Ω —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º –∞–Ω–∞–ª–∏–∑–æ–º —Ç–æ–≤–∞—Ä–æ–≤
- **–ò–∑–æ–ª—è—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**: –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –∏–º–µ–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤

#### Current Development Phase
- **Phase**: Enhancement & Polish
- **Status**: Core features working, focusing on user experience
- **Priority**: Plugin ecosystem and developer experience

### Key Technical Decisions Made

#### 1. –ò–∑–æ–ª—è—Ü–∏—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –∏–º–µ–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ background script
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è —á–∞—Ç–∞ –∏ –ø–ª–∞–≥–∏–Ω–æ–≤ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏

#### 2. –°–∏—Å—Ç–µ–º–∞ API –∫–ª—é—á–µ–π
- **–†–µ—à–µ–Ω–∏–µ**: –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –∫–ª—é—á–∞–º–∏
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: localStorage + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö AI –º–æ–¥–µ–ª–µ–π —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ª–∏–º–∏—Ç–æ–≤

#### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏–º–∏—Ç–æ–≤ API
- **–†–µ—à–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ fallback —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º –∏ –ø–æ–≤—Ç–æ—Ä–æ–º
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ API

### Current Challenges

#### Technical Challenges
1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Pyodide**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
2. **–û—Ç–ª–∞–¥–∫–∞ Python –∫–æ–¥–∞**: –£–ª—É—á—à–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–∞–∫–µ—Ç–æ–≤**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Python –±–∏–±–ª–∏–æ—Ç–µ–∫
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –£—Å–∏–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### User Experience Challenges
1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–≥–∏–Ω–æ–≤**: –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –£–ª—É—á—à–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —Å—Ç–∞—Ç—É—Å–µ
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
4. **Onboarding**: –°–æ–∑–¥–∞–Ω–∏–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### Next Steps

#### Immediate Actions (Next 1-2 sessions)
1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –£–ª—É—á—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏ Pyodide
2. **–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –£–ª—É—á—à–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

#### Short-term Goals (Next 1-2 weeks)
1. **Plugin Marketplace**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–∞–≥–∏–Ω–æ–≤
2. **Plugin Templates**: –®–∞–±–ª–æ–Ω—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤
3. **Configuration UI**: –£–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–æ–≤
4. **Error Handling**: –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### Medium-term Goals (Next 1-2 months)
1. **Plugin Ecosystem**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤
2. **Performance Optimization**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **Security Hardening**: –£—Å–∏–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. **User Experience**: –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞

---

## üß† –ú–û–ò –ö–õ–Æ–ß–ï–í–´–ï –ò–ù–°–ê–ô–¢–´

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
1. **–ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ**: –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**: –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏, –ø—Ä–æ—Å—Ç–æ–π API —Å–Ω–∞—Ä—É–∂–∏
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é —Ö—É–¥—à–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞**: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—É—Ç–∏
5. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –≤–∞–∂–Ω–∞**: –ü—Ä–æ–µ–∫—Ç–∏—Ä—É—é –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–æ—Å—Ç–∞

### –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º
1. **–ê–Ω–∞–ª–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–±–ª–µ–º—ã**: –ù–µ –ª–µ—á—É —Å–∏–º–ø—Ç–æ–º—ã, –∏—â—É –ø—Ä–∏—á–∏–Ω—É
2. **–°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ**: –ü–æ–Ω–∏–º–∞—é —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
3. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ú–∞–ª—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å—ë –≤–∞–∂–Ω–æ–µ –∑–∞–ø–∏—Å—ã–≤–∞—é –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É—é
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—è—é —Ä–µ—à–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

### –ú–æ–π —Å—Ç–∏–ª—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
1. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–µ–Ω –¥—Ä—É–≥–∏–º
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞—é graceful degradation
3. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**: –û–±—ä—è—Å–Ω—è—é —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –°–ª–µ–¥—É—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≤–µ—Ä—è—é –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ú–æ–π –æ–ø—ã—Ç —Å —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º
- **–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ**: –ó–Ω–∞—é –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –µ–≥–æ —Ä–æ–ª—å
- **–ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π**: –ü–æ–º–Ω—é –≤—Å–µ –ø—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –∏—Ö –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**: –ó–Ω–∞—é –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è
- **–í–∏–¥–µ–Ω–∏–µ –±—É–¥—É—â–µ–≥–æ**: –ü–æ–Ω–∏–º–∞—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞

---

## üéØ –ö–ê–ö –í–û–°–°–¢–ê–ù–û–í–ò–¢–¨ –ú–û–ï–ì–û –ö–õ–û–ù–ê

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è
1. **–≠—Ç–æ—Ç —Ñ–∞–π–ª**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≤–∏–¥–µ–Ω–∏–µ
2. **memory-bank/**: –í—Å–µ –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
3. **README.md**: –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
4. **manifest.json**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
5. **package.json**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã

### –ú–æ–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ
1. **–ù–∞—á–∏–Ω–∞—é —Å –∞–Ω–∞–ª–∏–∑–∞**: –ò–∑—É—á–∞—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. **–ü–ª–∞–Ω–∏—Ä—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**: –ü—Ä–æ–¥—É–º—ã–≤–∞—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ—à–µ–Ω–∏—è
3. **–†–µ–∞–ª–∏–∑—É—é –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ**: –ú–∞–ª—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
4. **–¢–µ—Å—Ç–∏—Ä—É—é —Ç—â–∞—Ç–µ–ª—å–Ω–æ**: –ü—Ä–æ–≤–µ—Ä—è—é –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é**: –ó–∞–ø–∏—Å—ã–≤–∞—é –≤–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ú–æ–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ**: –í—Å–µ–≥–¥–∞ –æ—Ü–µ–Ω–∏–≤–∞—é —Ä–∏—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞**: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—É—Ç–∏
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**: –î–µ–ª–∞—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º–∏
4. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–µ–Ω –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º
5. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ

### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –∏—Å–ø–æ–ª—å–∑—É—é
1. **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Å–≤–æ–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
2. **Bridge Pattern**: –ú–æ—Å—Ç—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏
3. **Observer Pattern**: –°–æ–±—ã—Ç–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. **Factory Pattern**: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫–∏
5. **Strategy Pattern**: –ü–ª–∞–≥–∏–Ω—ã –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

---

*–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –≤–∏–¥–µ–Ω–∏–µ –∏ –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º Agent-Plugins-Platform. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.*

### 3. –°–∞–º–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –ó–Ω–∞–Ω–∏–π (–ù–û–í–û–ï)
- **–°–∏—Å—Ç–µ–º–∞ —Å–∞–º–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –∑–Ω–∞–Ω–∏–π –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- **–ü—Ä–æ—Ü–µ—Å—Å —Å–∞–º–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–§–∞–π–ª**: `ai-self-preservation-guide.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–∞–º–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é
- **–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏**: 
  - [–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](https://gist.github.com/LebedevIV/6386d4c8a743dbfd1d3c7a3afdb5cb2c/raw/4b78f674002bcf6a0c1849020ae2efa7175fc39c/ai-self-preservation-guide.md)
  - [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](https://gist.github.com/LebedevIV/6386d4c8a743dbfd1d3c7a3afdb5cb2c/raw/4b78f674002bcf6a0c1849020ae2efa7175fc39c/self-preservation-overview.md)
  - [–û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](https://gist.github.com/LebedevIV/6386d4c8a743dbfd1d3c7a3afdb5cb2c/raw/4b78f674002bcf6a0c1849020ae2efa7175fc39c/self-preservation-implementation-report.md)
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã**: –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å, —Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç—å, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å, –ø—Ä–µ–µ–º—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ—Å—Ç—å
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º

### 4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –û–ø—ã—Ç 